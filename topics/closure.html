<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Study Guide</title>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
	<section class="container py-5">
		<a href="../index.html">Study guide</a>
 <h1>Closure</h1>
<p>WIP</p>
<ul>
<li>Memorisation: performance optimiser</li>
<li>Included in many JS design patterns</li>
</ul>
<p>When a function is invoked, a new slot of memory is used (the variable environment or execution context). That bit of memory is deleted when the function finished executing. Nothing is remembered apart from the returned data.</p>
<p><strong>Closure</strong> allows you to hold on to data. It allows function definitions to have persistent memory.</p>
<p>If you return a function from another function, the function that is returned stored its surrounding data (only the data that it references). When the outer function is removed from memory, the surrounding data can still be used via the internal function that was returned.</p>
<pre>
function outer() {
  let counter = 0;
  function inner() {
    counter++;
    console.log(counter);
  }
  return inner;
}

const newFunc = outer();
const newFunc2 = outer();

newFunc(); // 1
newFunc(); // 2
newFunc(); // 3

newFunc2(); // 1
</pre>

<p>This is due to a hidden property: <code>[[scope]]</code>. When the function is returned and attached to a new label, the hidden property is still attached.</p>
<h2>P.L.S.R.D</h2>
<p>Persistent lexical scope reference data</p>
</section>
</body>
</html> 